主要内容：
- 对虚拟 DOM 的理解？虚拟 DOM 主要做了什么？虚拟 DOM 本身是什么？
- React diff 算法的原理是什么？
- 使用了虚拟DOM就一定会比直接渲染真实DOM快吗?
# 对虚拟 DOM 的理解？虚拟 DOM 主要做了什么？虚拟 DOM 本身是什么？
[React 虚拟DOM的理解](https://blog.csdn.net/u010046318/article/details/77340188)  
- js创建一个js对象很简单，但是生成一个dom对象会比较麻烦(真实DOM的属性很多)
- 真实的DOM对象形成流程：JSX——createElement——JS对象（虚拟DOM）——真实的DOM
- VDom设计的最初目的，就是更好的跨平台，比如node.js就没有DOM，如果想实现SSR，那么一个方式就是借助虚拟dom，因为虚拟dom本身是js对象。


VDom是一个描述真实dom结构的js对象。
- 通过将页面状态抽象为js对象的形式，根据不同的渲染工具，使跨平台渲染成为可能，跨端应用得以实现。
- 通过事务处理机制，将多次DOM修改的结果一次性的更新到页面上，从而有效的减少页面渲染的次数，减少修改DOM的重绘重排次数，提高渲染性能。
- 通过diff算法，只更新


虚拟dom的好处：
- 性能优化
- 使得跨端应用得以实现


# React diff 算法的原理是什么？
[DIff算法看不懂就一起来砍我(带图)](https://juejin.cn/post/7000266544181674014)   

- 传统diff算法中，会查找两颗树每一个节点的差异，会运行n1(dom1的节点数)*n2(dom2的节点数)次方去对比,找到差异的部分再去更新。  
- diff算法内部对于复杂度的优化：
  - 同层比对。忽略节点跨层级操作场景，提升比对效率。（基于树进行对比）（当发现某层虚拟dom不一样时，后面的层级都不会比较了，会删除后面的dom内容。）
  - 如果组件的 class 一致，则默认为相似的树结构，否则默认为不同的树结构。（基于组件进行对比）
  - 同一层级的子节点，可以通过标记 key 的方式进行列表对比。（基于节点进行对比）

# React key 是干嘛用的 为什么要加？key 主要是解决哪一类问题的
Keys 是 React 用于追踪哪些列表中元素被修改、被添加或者被移除的辅助标识。在开发过程中，我们需要保证某个元素的 key 在其同级元素中具有唯一性。
在 React Diff 算法中 React 会借助元素的 Key 值来判断该元素是新近创建的还是被移动而来的元素，从而减少不必要的元素重渲染。此外，React 还需要借助 Key 值来判断元素与本地状态的关联关系。

# 使用了虚拟DOM就一定会比直接渲染真实DOM快吗?
[DIff算法看不懂就一起来砍我(带图)](https://juejin.cn/post/7000266544181674014)   

总结：复杂视图情况下提升渲染性能,因为虚拟DOM+Diff算法可以精准找到DOM树变更的地方,减少DOM的操作(重排重绘)